"use strict";var JSLINT=(function(){var aK,t,ak,bl,aD,at={"import":true,media:true,"font-face":true,page:true},aq={"arguments":true,callee:true,caller:true,constructor:true,"eval":true,prototype:true,unwatch:true,valueOf:true,watch:true},p={adsafe:true,bitwise:true,browser:true,cap:true,css:true,debug:true,eqeqeq:true,evil:true,forin:true,fragment:true,immed:true,laxbreak:true,newcap:true,nomen:true,on:true,onevar:true,passfail:true,plusplus:true,regexp:true,rhino:true,undef:true,safe:true,sidebar:true,strict:true,sub:true,white:true,widget:true},bh={addEventListener:false,alert:false,blur:false,clearInterval:false,clearTimeout:false,close:false,closed:false,confirm:false,console:false,Debug:false,defaultStatus:false,document:false,event:false,focus:false,frames:false,getComputedStyle:false,history:false,Image:false,length:false,location:false,moveBy:false,moveTo:false,name:false,navigator:false,onblur:true,onerror:true,onfocus:true,onload:true,onresize:true,onunload:true,open:false,opener:false,opera:false,Option:false,parent:false,print:false,prompt:false,resizeBy:false,resizeTo:false,screen:false,scroll:false,scrollBy:false,scrollTo:false,setInterval:false,setTimeout:false,status:false,top:false,XMLHttpRequest:false},z,K,a={aliceblue:true,antiquewhite:true,aqua:true,aquamarine:true,azure:true,beige:true,bisque:true,black:true,blanchedalmond:true,blue:true,blueviolet:true,brown:true,burlywood:true,cadetblue:true,chartreuse:true,chocolate:true,coral:true,cornflowerblue:true,cornsilk:true,crimson:true,cyan:true,darkblue:true,darkcyan:true,darkgoldenrod:true,darkgray:true,darkgreen:true,darkkhaki:true,darkmagenta:true,darkolivegreen:true,darkorange:true,darkorchid:true,darkred:true,darksalmon:true,darkseagreen:true,darkslateblue:true,darkslategray:true,darkturquoise:true,darkviolet:true,deeppink:true,deepskyblue:true,dimgray:true,dodgerblue:true,firebrick:true,floralwhite:true,forestgreen:true,fuchsia:true,gainsboro:true,ghostwhite:true,gold:true,goldenrod:true,gray:true,green:true,greenyellow:true,honeydew:true,hotpink:true,indianred:true,indigo:true,ivory:true,khaki:true,lavender:true,lavenderblush:true,lawngreen:true,lemonchiffon:true,lightblue:true,lightcoral:true,lightcyan:true,lightgoldenrodyellow:true,lightgreen:true,lightpink:true,lightsalmon:true,lightseagreen:true,lightskyblue:true,lightslategray:true,lightsteelblue:true,lightyellow:true,lime:true,limegreen:true,linen:true,magenta:true,maroon:true,mediumaquamarine:true,mediumblue:true,mediumorchid:true,mediumpurple:true,mediumseagreen:true,mediumslateblue:true,mediumspringgreen:true,mediumturquoise:true,mediumvioletred:true,midnightblue:true,mintcream:true,mistyrose:true,moccasin:true,navajowhite:true,navy:true,oldlace:true,olive:true,olivedrab:true,orange:true,orangered:true,orchid:true,palegoldenrod:true,palegreen:true,paleturquoise:true,palevioletred:true,papayawhip:true,peachpuff:true,peru:true,pink:true,plum:true,powderblue:true,purple:true,red:true,rosybrown:true,royalblue:true,saddlebrown:true,salmon:true,sandybrown:true,seagreen:true,seashell:true,sienna:true,silver:true,skyblue:true,slateblue:true,slategray:true,snow:true,springgreen:true,steelblue:true,tan:true,teal:true,thistle:true,tomato:true,turquoise:true,violet:true,wheat:true,white:true,whitesmoke:true,yellow:true,yellowgreen:true},aS,L={"%":true,cm:true,em:true,ex:true,"in":true,mm:true,pc:true,pt:true,px:true},M={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},aZ,D,G,bu={a:{},abbr:{},acronym:{},address:{},applet:{},area:{empty:true,parent:" map "},b:{},base:{empty:true,parent:" head "},bdo:{},big:{},blockquote:{},body:{parent:" html noframes "},br:{empty:true},button:{},canvas:{parent:" body p div th td "},caption:{parent:" table "},center:{},cite:{},code:{},col:{empty:true,parent:" table colgroup "},colgroup:{parent:" table "},dd:{parent:" dl "},del:{},dfn:{},dir:{},div:{},dl:{},dt:{parent:" dl "},em:{},embed:{},fieldset:{},font:{},form:{},frame:{empty:true,parent:" frameset "},frameset:{parent:" html frameset "},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{parent:" html "},html:{parent:"*"},hr:{empty:true},i:{},iframe:{},img:{empty:true},input:{empty:true},ins:{},kbd:{},label:{},legend:{parent:" fieldset "},li:{parent:" dir menu ol ul "},link:{empty:true,parent:" head "},map:{},menu:{},meta:{empty:true,parent:" head noframes noscript "},noframes:{parent:" html body "},noscript:{parent:" body head noframes "},object:{},ol:{},optgroup:{parent:" select "},option:{parent:" optgroup select "},p:{},param:{empty:true,parent:" applet object "},pre:{},q:{},samp:{},script:{empty:true,parent:" body div frame head iframe p pre span "},select:{},small:{},span:{},strong:{},style:{parent:" head ",empty:true},sub:{},sup:{},table:{},tbody:{parent:" table "},td:{parent:" tr "},textarea:{},tfoot:{parent:" table "},th:{parent:" tr "},thead:{parent:" table "},title:{parent:" head "},tr:{parent:" table tbody thead tfoot "},tt:{},u:{},ul:{},"var":{}},bp,be,a0,aN,k,by,T,a5,bg,l,I,ac,bo,s,bb,Y={"first-child":true,link:true,visited:true,hover:true,active:true,focus:true,lang:true,"first-letter":true,"first-line":true,before:true,after:true},ar={defineClass:false,deserialize:false,gc:false,help:false,load:false,loadClass:false,print:false,quit:false,readFile:false,readUrl:false,runCommand:false,seal:false,serialize:false,spawn:false,sync:false,toint32:false,version:false},a3,Q={System:false},af,aW,bw={Array:false,Boolean:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,"eval":false,EvalError:false,Function:false,isFinite:false,isNaN:false,JSON:false,Math:false,Number:false,Object:false,parseInt:false,parseFloat:false,RangeError:false,ReferenceError:false,RegExp:false,String:false,SyntaxError:false,TypeError:false,URIError:false},N={E:true,LN2:true,LN10:true,LOG2E:true,LOG10E:true,PI:true,SQRT1_2:true,SQRT2:true,MAX_VALUE:true,MIN_VALUE:true,NEGATIVE_INFINITY:true,POSITIVE_INFINITY:true},b={},o,a2,ab,C,x={alert:true,animator:true,appleScript:true,beep:true,bytesToUIString:true,Canvas:true,chooseColor:true,chooseFile:true,chooseFolder:true,closeWidget:true,COM:true,convertPathToHFS:true,convertPathToPlatform:true,CustomAnimation:true,escape:true,FadeAnimation:true,filesystem:true,Flash:true,focusWidget:true,form:true,FormField:true,Frame:true,HotKey:true,Image:true,include:true,isApplicationRunning:true,iTunes:true,konfabulatorVersion:true,log:true,md5:true,MenuItem:true,MoveAnimation:true,openURL:true,play:true,Point:true,popupMenu:true,preferenceGroups:true,preferences:true,print:true,prompt:true,random:true,Rectangle:true,reloadWidget:true,ResizeAnimation:true,resolvePath:true,resumeUpdates:true,RotateAnimation:true,runCommand:true,runCommandInBg:true,saveAs:true,savePreferences:true,screen:true,ScrollBar:true,showWidgetPreferences:true,sleep:true,speak:true,Style:true,suppressUpdates:true,system:true,tellWidget:true,Text:true,TextArea:true,Timer:true,unescape:true,updateNow:true,URL:true,Web:true,widget:true,Window:true,XMLDOM:true,XMLHttpRequest:true,yahooCheckLogin:true,yahooLogin:true,yahooLogout:true},bE,aU,aO=/@cc|<\/?|script|\]*s\]|<\s*!|</i,S=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,aC=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jslint|members?|global)?|=|\/)?|\*[\/=]?|\+[+=]?|-[\-=]?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/,an=/^\s*(['"=>\/&#]|<(?:\/|\!(?:--)?)?|[a-zA-Z][a-zA-Z0-9_\-]*|[0-9]+|--|.)/,aw=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,az=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,ad=/[>&]|<[\/!]?|--/,bi=/\*\/|\/\*/,V=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,y=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,ah=/&|\+|\u00AD|\.\.|\/\*|%[^;]|base64|url|expression|data|mailto/i,a1=/^\s*([{:#*%.=,>+\[\]@()"';*]|[a-zA-Z0-9_][a-zA-Z0-9_\-]*|<\/|\/\*)/,m=/^\s*([@#!"'};:\-%.=,+\[\]()*_]|[a-zA-Z][a-zA-Z0-9._\-]*|\/\*?|\d+(?:\.\d+)?|<\/)/,f=/[^a-zA-Z0-9-_\/ ]/,v=/[\[\]\/\\"'*<>.&:(){}+=#]/,bq={outer:an,html:an,style:a1,styleproperty:m};function aQ(){}if(typeof Object.create!=="function"){Object.create=function(F){aQ.prototype=F;return new aQ()}}function bC(F,ax){var bF;for(bF in ax){if(ax.hasOwnProperty(bF)){F[bF]=ax[bF]}}}String.prototype.entityify=function(){return this.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">")};String.prototype.isAlpha=function(){return(this>="a"&&this<="z\uffff")||(this>="A"&&this<="Z\uffff")};String.prototype.isDigit=function(){return(this>="0"&&this<="9")};String.prototype.supplant=function(F){return this.replace(/\{([^{}]*)\}/g,function(bF,ax){var bG=F[ax];return typeof bG==="string"||typeof bG==="number"?bG:bF})};String.prototype.name=function(){if(V.test(this)){return this}if(aw.test(this)){return'"'+this.replace(az,function(F){var ax=M[F];if(ax){return ax}return"\\u"+("0000"+F.charCodeAt().toString(16)).slice(-4)})+'"'}return'"'+this+'"'};function aF(){if(!ac.safe){if(ac.rhino){bC(bo,ar)}if(ac.browser||ac.sidebar){bC(bo,bh)}if(ac.sidebar){bC(bo,Q)}if(ac.widget){bC(bo,x)}}}function aP(F,ax,bF){throw {name:"JSLintError",line:ax,character:bF,message:F+" ("+Math.floor((ax/by.length)*100)+"% scanned)."}}function aL(ax,bL,bJ,bI,bH,bG){var F,bF,bK;bL=bL||l;if(bL.id==="(end)"){bL=a2}bF=bL.line||0;F=bL.from||0;bK={id:"(error)",raw:ax,evidence:by[bF]||"",line:bF,character:F,a:bJ,b:bI,c:bH,d:bG};bK.reason=ax.supplant(bK);JSLINT.errors.push(bK);if(ac.passfail){aP("Stopping. ",bF,F)}C+=1;if(C===50){aP("Too many errors.",bF,F)}return bK}function av(ax,bG,bH,bF,F,bJ,bI){return aL(ax,{line:bG,from:bH},bF,F,bJ,bI)}function a4(ax,bH,bG,F,bJ,bI){var bF=aL(ax,bH,bG,F,bJ,bI);aP("Stopping, unable to continue.",bF.line,bF.character)}function ai(ax,bG,bH,bF,F,bJ,bI){return a4(ax,{line:bG,from:bH},bF,F,bJ,bI)}var aJ=(function aJ(){var bH,bI,F,bF;function bG(){var bJ;F+=1;if(F>=by.length){return false}bH=0;bF=by[F].replace(/\t/g,o);bJ=bF.search(S);if(bJ>=0){av("Unsafe character.",F,bJ)}return true}function ax(bL,bM){var bK,bJ;if(bL==="(color)"){bJ={type:bL}}else{if(bL==="(punctuator)"||(bL==="(identifier)"&&b.hasOwnProperty(bM))){bJ=b[bM]||b["(error)"]}else{bJ=b[bL]}}bJ=Object.create(bJ);if(bL==="(string)"||bL==="(range)"){if(y.test(bM)){av("Script URL.",F,bI)}}if(bL==="(identifier)"){bJ.identifier=true;if(ac.nomen&&bM.charAt(0)==="_"){av("Unexpected '_' in '{a}'.",F,bI,bM)}}bJ.value=bM;bJ.line=F;bJ.character=bH;bJ.from=bI;bK=bJ.id;if(bK!=="(endline)"){s=bK&&(("(,=:[!&|?{};".indexOf(bK.charAt(bK.length-1))>=0)||bK==="return")}return bJ}return{init:function(bJ){if(typeof bJ==="string"){by=bJ.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}else{by=bJ}F=-1;bG();bI=0},range:function(bK,bJ){var bM,bL="";bI=bH;if(bF.charAt(0)!==bK){ai("Expected '{a}' and instead saw '{b}'.",F,bH,bK,bF.charAt(0))}for(;;){bF=bF.slice(1);bH+=1;bM=bF.charAt(0);switch(bM){case"":ai("Missing '{a}'.",F,bH,bM);break;case bJ:bF=bF.slice(1);bH+=1;return ax("(range)",bL);case aU:case"\\":case"'":case'"':av("Unexpected '{a}'.",F,bH,bM)}bL+=bM}},token:function(){var bU,bT,bK,bR,bN,bM,bO,bL,bS,bJ,bV;function bP(bW){var bY=bW.exec(bF),bX;if(bY){bL=bY[0].length;bX=bY[1];bT=bX.charAt(0);bF=bF.substr(bL);bH+=bL;bI=bH-bX.length;return bX}}function bQ(bW){var b0,bY,bZ="";if(k&&bW!=='"'){av("Strings must use doublequote.",F,bH)}if(aU===bW||(bE==="scriptstring"&&!aU)){return ax("(punctuator)",bW)}function bX(b2){var b1=parseInt(bF.substr(bY+1,b2),16);bY+=b2;if(b1>=32&&b1<=126&&b1!==34&&b1!==92&&b1!==39){av("Unnecessary escapement.",F,bH)}bH+=b2;b0=String.fromCharCode(b1)}bY=0;for(;;){while(bY>=bF.length){bY=0;if(bE!=="html"||!bG()){ai("Unclosed string.",F,bI)}}b0=bF.charAt(bY);if(b0===bW){bH+=1;bF=bF.substr(bY+1);return ax("(string)",bZ,bW)}if(b0<" "){if(b0==="\n"||b0==="\r"){break}av("Control character in string: {a}.",F,bH+bY,bF.slice(0,bY))}else{if(b0===aU){av("Bad HTML string",F,bH+bY)}else{if(b0==="<"){if(ac.safe&&bE==="html"){av("ADsafe string violation.",F,bH+bY)}else{if(bF.charAt(bY+1)==="/"&&(bE||ac.safe)){av("Expected '<\\/' and instead saw '</'.",F,bH)}else{if(bF.charAt(bY+1)==="!"&&(bE||ac.safe)){av("Unexpected '<!' in a string.",F,bH)}}}}else{if(b0==="\\"){if(bE==="html"){if(ac.safe){av("ADsafe string violation.",F,bH+bY)}}else{if(bE==="styleproperty"){bY+=1;bH+=1;b0=bF.charAt(bY);if(b0!==bW){av("Escapement in style string.",F,bH+bY)}}else{bY+=1;bH+=1;b0=bF.charAt(bY);switch(b0){case aU:av("Bad HTML string",F,bH+bY);break;case"\\":case"'":case'"':case"/":break;case"b":b0="\b";break;case"f":b0="\f";break;case"n":b0="\n";break;case"r":b0="\r";break;case"t":b0="\t";break;case"u":bX(4);break;case"v":b0="\v";break;case"x":if(k){av("Avoid \\x-.",F,bH)}bX(2);break;default:av("Bad escapement.",F,bH)}}}}}}}bZ+=b0;bH+=1;bY+=1}}for(;;){if(!bF){return ax(bG()?"(endline)":"(end)","")}while(bE==="outer"){bO=bF.search(ad);if(bO===0){break}else{if(bO>0){bH+=1;bF=bF.slice(bO);break}else{if(!bG()){return ax("(end)","")}}}}bV=bP(bq[bE]||aC);if(!bV){if(bE==="html"){return ax("(error)",bF.charAt(0))}else{bV="";bT="";while(bF&&bF<"!"){bF=bF.substr(1)}if(bF){ai("Unexpected '{a}'.",F,bH,bF.substr(0,1))}}}else{if(bT.isAlpha()||bT==="_"||bT==="$"){return ax("(identifier)",bV)}if(bT.isDigit()){if(bE!=="style"&&!isFinite(Number(bV))){av("Bad number '{a}'.",F,bH,bV)}if(bE!=="styleproperty"&&bF.substr(0,1).isAlpha()){av("Missing space after '{a}'.",F,bH,bV)}if(bT==="0"){bR=bV.substr(1,1);if(bR.isDigit()){if(a2.id!=="."&&bE!=="styleproperty"){av("Don't use extra leading zeros '{a}'.",F,bH,bV)}}else{if(k&&(bR==="x"||bR==="X")){av("Avoid 0x-. '{a}'.",F,bH,bV)}}}if(bV.substr(bV.length-1)==="."){av("A trailing decimal point can be confused with a dot '{a}'.",F,bH,bV)}return ax("(number)",bV)}switch(bV){case'"':case"'":return bQ(bV);case"//":if(af||(bE&&bE!=="script")){av("Unexpected comment.",F,bH)}else{if(bE==="script"&&/<\s*\//i.test(bF)){av("Unexpected </ in comment.",F,bH)}else{if((ac.safe||bE==="script")&&aO.test(bF)){av("Dangerous comment.",F,bH)}}}bF="";a2.comment=true;break;case"/*":if(af||(bE&&bE!=="script"&&bE!=="style"&&bE!=="styleproperty")){av("Unexpected comment.",F,bH)}if(ac.safe&&aO.test(bF)){av("ADsafe comment violation.",F,bH)}for(;;){bO=bF.search(bi);if(bO>=0){break}if(!bG()){ai("Unclosed comment.",F,bH)}else{if(ac.safe&&aO.test(bF)){av("ADsafe comment violation.",F,bH)}}}bH+=bO+2;if(bF.substr(bO,1)==="/"){ai("Nested comment.",F,bH)}bF=bF.substr(bO+2);a2.comment=true;break;case"/*members":case"/*member":case"/*jslint":case"/*global":case"*/":return{value:bV,type:"special",line:F,character:bH,from:bI};case"":break;case"/":if(s){bN=0;bK=0;bL=0;for(;;){bU=true;bT=bF.charAt(bL);bL+=1;switch(bT){case"":ai("Unclosed regular expression.",F,bI);return;case"/":if(bN>0){av("Unescaped '{a}'.",F,bI+bL,"/")}bT=bF.substr(0,bL-1);bJ={g:true,i:true,m:true};while(bJ[bF.charAt(bL)]===true){bJ[bF.charAt(bL)]=false;bL+=1}bH+=bL;bF=bF.substr(bL);return ax("(regexp)",bT);case"\\":bT=bF.charAt(bL);if(bT<" "){av("Unexpected control character in regular expression.",F,bI+bL)}else{if(bT==="<"){av("Unexpected escaped character '{a}' in regular expression.",F,bI+bL,bT)}}bL+=1;break;case"(":bN+=1;bU=false;if(bF.charAt(bL)==="?"){bL+=1;switch(bF.charAt(bL)){case":":case"=":case"!":bL+=1;break;default:av("Expected '{a}' and instead saw '{b}'.",F,bI+bL,":",bF.charAt(bL))}}else{bK+=1}break;case")":if(bN===0){av("Unescaped '{a}'.",F,bI+bL,")")}else{bN-=1}break;case" ":bJ=1;while(bF.charAt(bL)===" "){bL+=1;bJ+=1}if(bJ>1){av("Spaces are hard to count. Use {{a}}.",F,bI+bL,bJ)}break;case"[":if(bF.charAt(bL)==="^"){bL+=1}bJ=false;klass:do{bT=bF.charAt(bL);bL+=1;switch(bT){case"[":case"^":av("Unescaped '{a}'.",F,bI+bL,bT);bJ=true;break;case"-":if(bJ){bJ=false}else{av("Unescaped '{a}'.",F,bI+bL,"-");bJ=true}break;case"]":if(!bJ){av("Unescaped '{a}'.",F,bI+bL-1,"-")}break klass;case"\\":bT=bF.charAt(bL);if(bT<" "){av("Unexpected control character in regular expression.",F,bI+bL)}else{if(bT==="<"){av("Unexpected escaped character '{a}' in regular expression.",F,bI+bL,bT)}}bL+=1;bJ=true;break;case"/":av("Unescaped '{a}'.",F,bI+bL-1,"/");bJ=true;break;case"<":if(bE==="script"){bT=bF.charAt(bL);if(bT==="!"||bT==="/"){av("HTML confusion in regular expression '<{a}'.",F,bI+bL,bT)}}bJ=true;break;default:bJ=true}}while(bT);break;case".":if(ac.regexp){av("Unexpected '{a}'.",F,bI+bL,bT)}break;case"]":case"?":case"{":case"}":case"+":case"*":av("Unescaped '{a}'.",F,bI+bL,bT);break;case"<":if(bE==="script"){bT=bF.charAt(bL);if(bT==="!"||bT==="/"){av("HTML confusion in regular expression '<{a}'.",F,bI+bL,bT)}}}if(bU){switch(bF.charAt(bL)){case"?":case"+":case"*":bL+=1;if(bF.charAt(bL)==="?"){bL+=1}break;case"{":bL+=1;bT=bF.charAt(bL);if(bT<"0"||bT>"9"){av("Expected a number and instead saw '{a}'.",F,bI+bL,bT)}bL+=1;bS=+bT;for(;;){bT=bF.charAt(bL);if(bT<"0"||bT>"9"){break}bL+=1;bS=+bT+(bS*10)}bM=bS;if(bT===","){bL+=1;bM=Infinity;bT=bF.charAt(bL);if(bT>="0"&&bT<="9"){bL+=1;bM=+bT;for(;;){bT=bF.charAt(bL);if(bT<"0"||bT>"9"){break}bL+=1;bM=+bT+(bM*10)}}}if(bF.charAt(bL)!=="}"){av("Expected '{a}' and instead saw '{b}'.",F,bI+bL,"}",bT)}else{bL+=1}if(bF.charAt(bL)==="?"){bL+=1}if(bS>bM){av("'{a}' should not be greater than '{b}'.",F,bI+bL,bS,bM)}}}}bT=bF.substr(0,bL-1);bH+=bL;bF=bF.substr(bL);return ax("(regexp)",bT)}return ax("(punctuator)",bV);case"<!--":bL=F;bT=bH;for(;;){bO=bF.indexOf("--");if(bO>=0){break}bO=bF.indexOf("<!");if(bO>=0){ai("Nested HTML comment.",F,bH+bO)}if(!bG()){ai("Unclosed HTML comment.",bL,bT)}}bL=bF.indexOf("<!");if(bL>=0&&bL<bO){ai("Nested HTML comment.",F,bH+bL)}bH+=bO;if(bF[bO+2]!==">"){ai("Expected -->.",F,bH)}bH+=3;bF=bF.slice(bO+3);break;case"#":if(bE==="html"||bE==="styleproperty"){for(;;){bT=bF.charAt(0);if((bT<"0"||bT>"9")&&(bT<"a"||bT>"f")&&(bT<"A"||bT>"F")){break}bH+=1;bF=bF.substr(1);bV+=bT}if(bV.length!==4&&bV.length!==7){av("Bad hex color '{a}'.",F,bI+bL,bV)}return ax("(color)",bV)}return ax("(punctuator)",bV);default:if(bE==="outer"&&bT==="&"){bH+=1;bF=bF.substr(1);for(;;){bT=bF.charAt(0);bH+=1;bF=bF.substr(1);if(bT===";"){break}if(!((bT>="0"&&bT<="9")||(bT>="a"&&bT<="z")||bT==="#")){ai("Bad entity",F,bI+bL,bH)}}break}return ax("(punctuator)",bV)}}}}}}());function w(F,ax){if(F==="hasOwnProperty"){a4("'hasOwnProperty' is a really bad name.")}if(ac.safe&&aZ["(global)"]&&typeof bo[F]!=="boolean"){aL("ADsafe global: "+F+".",a2)}if(aZ.hasOwnProperty(F)&&!aZ["(global)"]){aL(aZ[F]===true?"'{a}' was used before it was defined.":"'{a}' is already defined.",l,F)}aZ[F]=ax;if(ax==="label"){a3[F]=aZ}else{if(aZ["(global)"]){G[F]=aZ;if(be.hasOwnProperty(F)){aL("'{a}' was used before it was defined.",l,F);delete be[F]}}else{aZ["(scope)"][F]=aZ}}}function A(){var F,bH,bG,bI=l.value,bF,ax;switch(bI){case"*/":a4("Unbegun comment.");break;case"/*members":case"/*member":bI="/*members";if(!bg){bg={}}bH=bg;break;case"/*jslint":if(ac.safe){aL("ADsafe restriction.")}bH=ac;bG=p;break;case"/*global":if(ac.safe){aL("ADsafe restriction.")}bH=bo;break;default:}bF=aJ.token();loop:for(;;){for(;;){if(bF.type==="special"&&bF.value==="*/"){break loop}if(bF.id!=="(endline)"&&bF.id!==","){break}bF=aJ.token()}if(bF.type!=="(string)"&&bF.type!=="(identifier)"&&bI!=="/*members"){a4("Bad option.",bF)}ax=aJ.token();if(ax.id===":"){ax=aJ.token();if(bH===bg){a4("Expected '{a}' and instead saw '{b}'.",bF,"*/",":")}if(bF.value==="indent"&&bI==="/*jslint"){F=+ax.value;if(typeof F!=="number"||!isFinite(F)||F<=0||Math.floor(F)!==F){a4("Expected a small integer and instead saw '{a}'.",ax,ax.value)}bH.white=true;bH.indent=F}else{if(ax.value==="true"){bH[bF.value]=true}else{if(ax.value==="false"){bH[bF.value]=false}else{a4("Bad option value.",ax)}}}bF=aJ.token()}else{if(bI==="/*jslint"){a4("Missing option value.",bF)}bH[bF.value]=false;bF=ax}}if(bG){aF()}}function bc(bG){var bF=bG||0,F=0,ax;while(F<=bF){ax=T[F];if(!ax){ax=T[F]=aJ.token()}F+=1}return ax}function aB(ax,F){switch(a2.id){case"(number)":if(l.id==="."){aL("A dot following a number can be confused with a decimal point.",a2)}break;case"-":if(l.id==="-"||l.id==="--"){aL("Confusing minusses.")}break;case"+":if(l.id==="+"||l.id==="++"){aL("Confusing plusses.")}break}if(a2.type==="(string)"||a2.identifier){bl=a2.value}if(ax&&l.id!==ax){if(F){if(l.id==="(end)"){aL("Unmatched '{a}'.",F,F.id)}else{aL("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",l,ax,F.id,F.line+1,l.value)}}else{if(l.type!=="(identifier)"||l.value!==ax){aL("Expected '{a}' and instead saw '{b}'.",l,ax,l.value)}}}bb=a2;a2=l;for(;;){l=T.shift()||aJ.token();if(l.id==="(end)"||l.id==="(error)"){return}if(l.type==="special"){A()}else{if(l.id!=="(endline)"){break}}}}function aT(F,ax){ac.undef=false;ac.white=false;ac.onevar=false;var bF,bG;if(l.id==="(end)"){a4("Unexpected early end of program.",a2)}aB();if(ac.safe&&typeof bo[a2.value]==="boolean"&&(l.id!=="("&&l.id!==".")){aL("ADsafe violation.",a2)}if(ax){bl="anonymous";aZ["(verb)"]=a2.value}if(ax===true&&a2.fud){bF=a2.fud()}else{if(a2.nud){bG=a2.exps;bF=a2.nud()}else{if(l.type==="(number)"&&a2.id==="."){aL("A leading decimal point can be confused with a dot: '.{a}'.",a2,l.value);aB();return a2}else{a4("Expected an identifier and instead saw '{a}'.",a2,a2.id)}}while(F<l.lbp){bG=l.exps;aB();if(a2.led){bF=a2.led(bF)}else{a4("Expected an operator and instead saw '{a}'.",a2,a2.id)}}if(ax&&!bG){aL("Expected an assignment or function call and instead saw an expression.",a2)}}return bF}function aR(ax,F){ax=ax||a2;F=F||l;if(ac.white||bE==="styleproperty"||bE==="style"){if(ax.character!==F.from&&ax.line===F.line){aL("Unexpected space after '{a}'.",F,ax.value)}}}function aa(ax,F){ax=ax||a2;F=F||l;if(ac.white&&!ax.comment){if(ax.line===F.line){aR(ax,F)}}}function Z(ax,F){if(ac.white){ax=ax||a2;F=F||l;if(ax.character===F.from){aL("Missing space after '{a}'.",l,ax.value)}}}function aI(ax,F){ax=ax||a2;F=F||l;if(!ac.laxbreak&&ax.line!==F.line){aL("Bad line breaking before '{a}'.",F,F.id)}else{if(ac.white){ax=ax||a2;F=F||l;if(ax.character===F.from){aL("Missing space after '{a}'.",l,ax.value)}}}}function c(F){var ax;if(ac.white&&l.id!=="(end)"){ax=aN+(F||0);if(l.from!==ax){aL("Expected '{a}' to have an indentation of {b} instead of {c}.",l,l.value,ax,l.from)}}}function bB(F){if(F.line!==l.line){aL("Line breaking error '{a}'.",F,F.value)}}function aM(){if(a2.line!==l.line){if(!ac.laxbreak){aL("Bad line breaking before '{a}'.",a2,l.id)}}else{if(a2.character!==l.from&&ac.white){aL("Unexpected space after '{a}'.",l,a2.value)}}aB(",");Z(a2,l)}function X(ax,bF){var F=b[ax];if(!F||typeof F!=="object"){b[ax]=F={id:ax,lbp:bF,value:ax}}return F}function a9(F){return X(F,0)}function h(ax,bF){var F=a9(ax);F.identifier=F.reserved=true;F.fud=bF;return F}function bn(ax,bF){var F=h(ax,bF);F.block=true;return F}function H(F){var ax=F.id.charAt(0);if((ax>="a"&&ax<="z")||(ax>="A"&&ax<="Z")){F.identifier=F.reserved=true}return F}function a6(ax,bF){var F=X(ax,150);H(F);F.nud=(typeof bF==="function")?bF:function(){if(ac.plusplus&&(this.id==="++"||this.id==="--")){aL("Unexpected use of '{a}'.",this,this.id)}this.right=aT(150);this.arity="unary";return this};return F}function ay(ax,bF){var F=a9(ax);F.type=ax;F.nud=bF;return F}function r(ax,bF){var F=ay(ax,bF);F.identifier=F.reserved=true;return F}function ag(ax,F){return r(ax,function(){if(this.id==="this"){if(ac.safe){aL("ADsafe violation.",this)}}return this})}function B(bF,bG,bH,ax){var F=X(bF,bH);H(F);F.led=function(bI){if(!ax){aI(bb,a2);Z(a2,l)}if(typeof bG==="function"){return bG(bI,this)}else{this.left=bI;this.right=aT(bH);return this}};return F}function bv(ax,bF){var F=X(ax,100);F.led=function(bH){aI(bb,a2);Z(a2,l);var bG=aT(100);if((bH&&bH.id==="NaN")||(bG&&bG.id==="NaN")){aL("Use the isNaN function to compare with NaN.",this)}else{if(bF){bF.apply(this,[bH,bG])}}this.left=bH;this.right=bG;return this};return F}function bD(F){return(F.type==="(number)"&&!+F.value)||(F.type==="(string)"&&!F.value)||F.type==="true"||F.type==="false"||F.type==="undefined"||F.type==="null"}function aH(F,ax){X(F,20).exps=true;return B(F,function(bH,bG){var bF;bG.left=bH;if(bo[bH.value]===false&&a3[bH.value]["(global)"]===true){aL("Read only.",bH)}if(ac.safe){bF=bH;do{if(typeof bo[bF.value]==="boolean"){aL("ADsafe violation.",bF)}bF=bF.left}while(bF)}if(bH){if(bH.id==="."||bH.id==="["){if(bH.left.value==="arguments"){aL("Bad assignment.",bG)}bG.right=aT(19);return bG}else{if(bH.identifier&&!bH.reserved){if(aZ[bH.value]==="exception"){aL("Do not assign to the exception parameter.",bH)}bG.right=aT(19);return bG}}if(bH===b["function"]){aL("Expected an identifier in an assignment and instead saw a function invocation.",a2)}}a4("Bad assignment.",bG)},20)}function aY(ax,bF,bG){var F=X(ax,bG);H(F);F.led=(typeof bF==="function")?bF:function(bH){if(ac.bitwise){aL("Unexpected use of '{a}'.",this,this.id)}this.left=bH;this.right=aT(bG);return this};return F}function j(F){X(F,20).exps=true;return B(F,function(bF,ax){if(ac.bitwise){aL("Unexpected use of '{a}'.",ax,ax.id)}Z(bb,a2);Z(a2,l);if(bF){if(bF.id==="."||bF.id==="["||(bF.identifier&&!bF.reserved)){aT(19);return bF}if(bF===b["function"]){aL("Expected an identifier in an assignment, and instead saw a function invocation.",a2)}}a4("Bad assignment.",ax)},20)}function aX(ax,bF){var F=X(ax,150);F.led=function(bG){if(ac.plusplus){aL("Unexpected use of '{a}'.",this,this.id)}this.left=bG;return this};return F}function n(){if(l.reserved){aL("Expected an identifier and instead saw '{a}' (a reserved word).",l,l.id)}if(l.identifier){aB();return a2.value}}function aE(){var F=n();if(F){return F}if(a2.id==="function"&&l.id==="("){aL("Missing name in function statement.")}else{a4("Expected an identifier and instead saw '{a}'.",l,l.value)}}function ap(bF){var ax=0,F;if(l.id!==";"||I){return}for(;;){F=bc(ax);if(F.reach){return}if(F.id!=="(endline)"){if(F.id==="function"){aL("Inner functions should be listed at the top of the outer function.",F);break}aL("Unreachable '{a}' after '{b}'.",F,F.value,bF);break}ax+=1}}function bz(bH){var ax=aN,bG,bF=a3,F=l;if(F.id===";"){aL("Unnecessary semicolon.",F);aB(";");return}if(F.identifier&&!F.reserved&&bc().id===":"){aB();aB(":");a3=Object.create(bF);w(F.value,"label");if(!l.labelled){aL("Label '{a}' on {b} statement.",l,F.value,l.value)}if(y.test(F.value+":")){aL("Label '{a}' looks like a javascript url.",F,F.value)}l.label=F.value;F=l}if(!bH){c()}bG=aT(0,true);if(!F.block){if(l.id!==";"){av("Missing semicolon.",a2.line,a2.from+a2.value.length)}else{aR(a2,l);aB(";");Z(a2,l)}}aN=ax;a3=bF;return bG}function d(){if(l.value==="use strict"){aB();aB(";");return true}else{return false}}function a7(ax){var F=[],bF,bG;if(ax&&!d()&&ac.strict){aL('Missing "use strict" statement.',l)}if(ac.adsafe){switch(ax){case"script":if(!t){if(l.value!=="ADSAFE"||bc(0).id!=="."||(bc(1).value!=="id"&&bc(1).value!=="go")){a4("ADsafe violation: Missing ADSAFE.id or ADSAFE.go.",l)}}if(l.value==="ADSAFE"&&bc(0).id==="."&&bc(1).value==="id"){if(t){a4("ADsafe violation.",l)}aB("ADSAFE");aB(".");aB("id");aB("(");if(l.value!==aK){a4("ADsafe violation: id does not match.",l)}aB("(string)");aB(")");aB(";");t=true}break;case"lib":if(l.value==="ADSAFE"){aB("ADSAFE");aB(".");aB("lib");aB("(");aB("(string)");aM();bF=aT(0);if(bF.id!=="function"){a4("The second argument to lib must be a function.",bF)}bG=bF.funct["(params)"];if(bG&&bG!=="lib"){a4("Expected '{a}' and instead saw '{b}'.",bF,"lib",bG)}aB(")");aB(";");return F}else{a4("ADsafe lib violation.")}}}while(!l.reach&&l.id!=="(end)"){if(l.id===";"){aL("Unnecessary semicolon.");aB(";")}else{F.push(bz())}}return F}function J(bH){var ax,F=a0,bG=a3,bF;a0=bH;if(bH){a3=Object.create(a3)}Z(a2,l);bF=l;if(l.id==="{"){aB("{");if(l.id!=="}"||a2.line!==l.line){aN+=ac.indent;if(!bH&&l.from===aN+ac.indent){aN+=ac.indent}if(!bH){d()}ax=a7();aN-=ac.indent;c()}aB("}",bF)}else{aL("Expected '{a}' and instead saw '{b}'.",l,"{",l.value);I=true;ax=[bz()];I=false}aZ["(verb)"]=null;a3=bG;a0=F;return ax}function U(){return this}function i(F){if(bg&&typeof bg[F]!=="boolean"){aL("Unexpected /*member '{a}'.",l,F)}if(typeof a5[F]==="number"){a5[F]+=1}else{a5[F]=1}}function br(bG){var bF=bG.value,ax=bG.line+1,F=be[bF];if(typeof F==="function"){F=false}if(!F){F=[ax];be[bF]=F}else{if(F[F.length-1]!==ax){F.push(ax)}}}function ae(){if(l.identifier){aB();return true}}function am(){if(l.id==="-"){aB("-");aB("(number)")}if(l.type==="(number)"){aB();return true}}function bA(){if(l.type==="(string)"){aB();return true}}function bt(){var F,ax;if(l.identifier){if(l.value==="rgb"){aB();aB("(");for(F=0;F<3;F+=1){ax=l.value;if(l.type!=="(number)"||ax<0){aL("Expected a positive number and instead saw '{a}'",l,ax);aB()}else{aB();if(l.id==="%"){aB("%");if(ax>100){aL("Expected a percentage and instead saw '{a}'",a2,ax)}}else{if(ax>255){aL("Expected a small number and instead saw '{a}'",a2,ax)}}}}aB(")");return true}else{if(a[l.value]===true){aB();return true}}}else{if(l.type==="(color)"){aB();return true}}return false}function aV(){if(l.id==="-"){aB("-");aR()}if(l.type==="(number)"){aB();if(l.type!=="(string)"&&L[l.value]===true){aR();aB()}else{if(+a2.value!==0){aL("Expected a linear unit and instead saw '{a}'.",l,l.value)}}return true}return false}function bj(){if(l.id==="-"){aB("-");aR()}if(l.type==="(number)"){aB();if(l.type!=="(string)"&&L[l.value]===true){aR();aB()}return true}return false}function al(){if(l.identifier){switch(l.value){case"thin":case"medium":case"thick":aB();return true}}else{return aV()}}function aj(){if(l.identifier){if(l.value==="auto"){aB();return true}}else{return aV()}}function E(){if(l.identifier&&l.value==="attr"){aB();aB("(");if(!l.identifier){aL("Expected a name and instead saw '{a}'.",l,l.value)}aB();aB(")");return true}return false}function a8(){while(l.id!==";"){if(!ae()&&!bA()){aL("Expected a name and instead saw '{a}'.",l,l.value)}if(l.id!==","){return true}aM()}}function ao(){if(l.identifier&&l.value==="counter"){aB();aB("(");if(!l.identifier){}aB();if(l.id===","){aM();if(l.type!=="(string)"){aL("Expected a string and instead saw '{a}'.",l,l.value)}aB()}aB(")");return true}if(l.identifier&&l.value==="counters"){aB();aB("(");if(!l.identifier){aL("Expected a name and instead saw '{a}'.",l,l.value)}aB();if(l.id===","){aM();if(l.type!=="(string)"){aL("Expected a string and instead saw '{a}'.",l,l.value)}aB()}if(l.id===","){aM();if(l.type!=="(string)"){aL("Expected a string and instead saw '{a}'.",l,l.value)}aB()}aB(")");return true}return false}function bx(){var F;if(l.identifier&&l.value==="rect"){aB();aB("(");for(F=0;F<4;F+=1){if(!aV()){aL("Expected a number and instead saw '{a}'.",l,l.value);break}}aB(")");return true}return false}function e(){var F;if(l.identifier&&l.value==="url"){l=aJ.range("(",")");F=l.value;aB();if(ac.safe&&ah.test(F)){a4("ADsafe URL violation.")}ab.push(F);return true}return false}K=[e,function(){for(;;){if(l.identifier){switch(l.value.toLowerCase()){case"url":e();break;case"expression":aL("Unexpected expression '{a}'.",l,l.value);aB();break;default:aB()}}else{if(l.id===";"||l.id==="!"||l.id==="(end)"||l.id==="}"){return true}aB()}}}];aS=["none","hidden","dotted","dashed","solid","double","ridge","inset","outset"];z={background:[true,"background-attachment","background-color","background-image","background-position","background-repeat"],"background-attachment":["scroll","fixed"],"background-color":["transparent",bt],"background-image":["none",e],"background-position":[2,[aV,"top","bottom","left","right","center"]],"background-repeat":["repeat","repeat-x","repeat-y","no-repeat"],border:[true,"border-color","border-style","border-width"],"border-bottom":[true,"border-bottom-color","border-bottom-style","border-bottom-width"],"border-bottom-color":bt,"border-bottom-style":aS,"border-bottom-width":al,"border-collapse":["collapse","separate"],"border-color":["transparent",4,bt],"border-left":[true,"border-left-color","border-left-style","border-left-width"],"border-left-color":bt,"border-left-style":aS,"border-left-width":al,"border-right":[true,"border-right-color","border-right-style","border-right-width"],"border-right-color":bt,"border-right-style":aS,"border-right-width":al,"border-spacing":[2,aV],"border-style":[4,aS],"border-top":[true,"border-top-color","border-top-style","border-top-width"],"border-top-color":bt,"border-top-style":aS,"border-top-width":al,"border-width":[4,al],bottom:[aV,"auto"],"caption-side":["bottom","left","right","top"],clear:["both","left","none","right"],clip:[bx,"auto"],color:bt,content:["open-quote","close-quote","no-open-quote","no-close-quote",bA,e,ao,E],"counter-increment":[ae,"none"],"counter-reset":[ae,"none"],cursor:[e,"auto","crosshair","default","e-resize","help","move","n-resize","ne-resize","nw-resize","pointer","s-resize","se-resize","sw-resize","w-resize","text","wait"],direction:["ltr","rtl"],display:["block","compact","inline","inline-block","inline-table","list-item","marker","none","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],"empty-cells":["show","hide"],"float":["left","none","right"],font:["caption","icon","menu","message-box","small-caption","status-bar",true,"font-size","font-style","font-weight","font-family"],"font-family":a8,"font-size":["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller",aV],"font-size-adjust":["none",am],"font-stretch":["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded"],"font-style":["normal","italic","oblique"],"font-variant":["normal","small-caps"],"font-weight":["normal","bold","bolder","lighter",am],height:[aV,"auto"],left:[aV,"auto"],"letter-spacing":["normal",aV],"line-height":["normal",bj],"list-style":[true,"list-style-image","list-style-position","list-style-type"],"list-style-image":["none",e],"list-style-position":["inside","outside"],"list-style-type":["circle","disc","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","hebrew","katakana","hiragana-iroha","katakana-oroha","none"],margin:[4,aj],"margin-bottom":aj,"margin-left":aj,"margin-right":aj,"margin-top":aj,"marker-offset":[aV,"auto"],"max-height":[aV,"none"],"max-width":[aV,"none"],"min-height":aV,"min-width":aV,opacity:am,outline:[true,"outline-color","outline-style","outline-width"],"outline-color":["invert",bt],"outline-style":["dashed","dotted","double","groove","inset","none","outset","ridge","solid"],"outline-width":al,overflow:["auto","hidden","scroll","visible"],padding:[4,aV],"padding-bottom":aV,"padding-left":aV,"padding-right":aV,"padding-top":aV,position:["absolute","fixed","relative","static"],quotes:[8,bA],right:[aV,"auto"],"table-layout":["auto","fixed"],"text-align":["center","justify","left","right"],"text-decoration":["none","underline","overline","line-through","blink"],"text-indent":aV,"text-shadow":["none",4,[bt,aV]],"text-transform":["capitalize","uppercase","lowercase","none"],top:[aV,"auto"],"unicode-bidi":["normal","embed","bidi-override"],"vertical-align":["baseline","bottom","sub","super","top","text-top","middle","text-bottom",aV],visibility:["visible","hidden","collapse"],"white-space":["normal","pre","nowrap"],width:[aV,"auto"],"word-spacing":["normal",aV],"z-index":["auto",am]};function g(){var F;while(l.id==="*"||l.id==="#"||l.value==="_"){if(!ac.css){aL("Unexpected '{a}'.",l,l.value)}aB()}if(l.id==="-"){if(!ac.css){aL("Unexpected '{a}'.",l,l.value)}aB("-");if(!l.identifier){aL("Expected a non-standard style attribute and instead saw '{a}'.",l,l.value)}aB();return K}else{if(!l.identifier){aL("Excepted a style attribute, and instead saw '{a}'.",l,l.value)}else{if(z.hasOwnProperty(l.value)){F=z[l.value]}else{F=K;if(!ac.css){aL("Unrecognized style attribute '{a}'.",l,l.value)}}}aB();return F}}function au(ax){var bG=0,bK,bH,bF,F,bJ=0,bI;switch(typeof ax){case"function":return ax();case"string":if(l.identifier&&l.value===ax){aB();return true}return false}for(;;){if(bG>=ax.length){return false}bI=ax[bG];bG+=1;if(bI===true){break}else{if(typeof bI==="number"){bK=bI;bI=ax[bG];bG+=1}else{bK=1}}bF=false;while(bK>0){if(au(bI)){bF=true;bK-=1}else{break}}if(bF){return true}}bJ=bG;bH=[];for(;;){F=false;for(bG=bJ;bG<ax.length;bG+=1){if(!bH[bG]){if(au(z[ax[bG]])){bF=true;F=true;bH[bG]=true;break}}}if(!F){return bF}}}function aA(){var F;for(;;){if(l.id==="}"||l.id==="(end)"||aU&&l.id===aU){return}while(l.id===";"){aL("Misplaced ';'.");aB(";")}F=g();aB(":");if(l.identifier&&l.value==="inherit"){aB()}else{au(F)}while(l.id!==";"&&l.id!=="!"&&l.id!=="}"&&l.id!=="(end)"&&l.id!==aU){aL("Unexpected token '{a}'.",l,l.value);aB()}if(l.id==="!"){aB("!");aR();if(l.identifier&&l.value==="important"){aB()}else{aL("Expected '{a}' and instead saw '{b}'.",l,"important",l.value)}}if(l.id==="}"||l.id===aU){aL("Missing '{a}'.",l,";")}else{aB(";")}}}function ba(){var F;if(l.id==="{"){aL("Expected a style pattern, and instead saw '{a}'.",l,l.id)}else{if(l.id==="@"){aB("@");F=l.value;if(l.identifier&&at[F]===true){aB();return F}aL("Expected an at-rule, and instead saw @{a}.",l,F)}}for(;;){if(l.identifier){if(!bu.hasOwnProperty(l.value)){aL("Expected a tagName, and instead saw {a}.",l,l.value)}aB()}else{switch(l.id){case">":case"+":aB();if(!l.identifier||!bu.hasOwnProperty(l.value)){aL("Expected a tagName, and instead saw {a}.",l,l.value)}aB();break;case":":aB(":");if(Y[l.value]!==true){aL("Expected a pseudo, and instead saw :{a}.",l,l.value)}aB();if(l.value==="lang"){aB("(");if(!l.identifier){aL("Expected a lang code, and instead saw :{a}.",l,l.value)}aB(")")}break;case"#":aB("#");if(!l.identifier){aL("Expected an id, and instead saw #{a}.",l,l.value)}aB();break;case"*":aB("*");break;case".":aB(".");if(!l.identifier){aL("Expected a class, and instead saw #.{a}.",l,l.value)}aB();break;case"[":aB("[");if(!l.identifier){aL("Expected an attribute, and instead saw [{a}].",l,l.value)}aB();if(l.id==="="||l.id==="~="||l.id==="|="){aB();if(l.type!=="(string)"){aL("Expected a string, and instead saw {a}.",l,l.value)}aB()}aB("]");break;default:a4("Expected a CSS selector, and instead saw {a}.",l,l.value)}}if(l.id==="</"||l.id==="{"||l.id==="(end)"){return""}if(l.id===","){aM()}}}function bm(){while(l.id!=="</"&&l.id!=="(end)"){ba();bE="styleproperty";if(l.id===";"){aB(";")}else{aB("{");aA();bE="style";aB("}")}}}function bk(F){if(F!=="html"&&!ac.fragment){if(F==="div"&&ac.adsafe){a4("ADSAFE: Use the fragment option.")}else{a4("Expected '{a}' and instead saw '{b}'.",a2,"html",F)}}if(ac.adsafe){if(F==="html"){a4("Currently, ADsafe does not operate on whole HTML documents. It operates on <div> fragments and .js files.",a2)}if(ac.fragment){if(F!=="div"){a4("ADsafe violation: Wrap the widget in a div.",a2)}}else{a4("Use the fragment option.",a2)}}ac.browser=true;aF()}function aG(bH,ax,bF){var bG,F;if(ax==="id"){bG=typeof bF==="string"?bF.toUpperCase():"";if(bp[bG]===true){aL("Duplicate id='{a}'.",l,bF)}if(ac.adsafe){if(aK){if(bF.slice(0,aK.length)!==aK){aL("ADsafe violation: An id must have a '{a}' prefix",l,aK)}else{if(!/^[A-Z]+_[A-Z]+$/.test(bF)){aL("ADSAFE violation: bad id.")}}}else{aK=bF;if(!/^[A-Z]+_$/.test(bF)){aL("ADSAFE violation: bad id.")}}}F=bF.search(v);if(F>=0){aL("Unexpected character '{a}' in {b}.",a2,bF.charAt(F),ax)}bp[bG]=true}else{if(ax==="class"||ax==="type"||ax==="name"){F=bF.search(f);if(F>=0){aL("Unexpected character '{a}' in {b}.",a2,bF.charAt(F),ax)}bp[bG]=true}else{if(ax==="href"||ax==="background"||ax==="content"||ax==="data"||ax.indexOf("src")>=0||ax.indexOf("url")>=0){if(ac.safe&&ah.test(bF)){a4("ADsafe URL violation.")}ab.push(bF)}else{if(ax==="for"){if(ac.adsafe){if(aK){if(bF.slice(0,aK.length)!==aK){aL("ADsafe violation: An id must have a '{a}' prefix",l,aK)}else{if(!/^[A-Z]+_[A-Z]+$/.test(bF)){aL("ADSAFE violation: bad id.")}}}else{aL("ADSAFE violation: bad id.")}}}else{if(ax==="name"){if(ac.adsafe&&bF.indexOf("_")>=0){aL("ADsafe name violation.")}}}}}}}function u(bH,ax){var bG,bF=bu[bH],F;af=false;if(!bF){a4("Unrecognized tag '<{a}>'.",l,bH===bH.toLowerCase()?bH:bH+" (capitalization error)")}if(aW.length>0){if(bH==="html"){a4("Too many <html> tags.",a2)}F=bF.parent;if(F){if(F.indexOf(" "+aW[aW.length-1].name+" ")<0){a4("A '<{a}>' must be within '<{b}>'.",a2,bH,F)}}else{if(!ac.adsafe&&!ac.fragment){bG=aW.length;do{if(bG<=0){a4("A '<{a}>' must be within '<{b}>'.",a2,bH,"body")}bG-=1}while(aW[bG].name!=="body")}}}switch(bH){case"div":if(ac.adsafe&&aW.length===1&&!aK){aL("ADSAFE violation: missing ID_.")}break;case"script":bE="script";aB(">");aN=l.from;if(ax.lang){aL("lang is deprecated.",a2)}if(ac.adsafe&&aW.length!==1){aL("ADsafe script placement violation.",a2)}if(ax.src){if(ac.adsafe&&(!t||!aD[ax.src])){aL("ADsafe unapproved script source.",a2)}if(ax.type){aL("type is unnecessary.",a2)}}else{if(ak){a4("ADsafe script violation.",a2)}a7("script")}bE="html";aB("</");if(!l.identifier&&l.value!=="script"){aL("Expected '{a}' and instead saw '{b}'.",l,"script",l.value)}aB();bE="outer";break;case"style":bE="style";aB(">");bm();bE="html";aB("</");if(!l.identifier&&l.value!=="style"){aL("Expected '{a}' and instead saw '{b}'.",l,"style",l.value)}aB();bE="outer";break;case"input":switch(ax.type){case"radio":case"checkbox":case"text":case"button":case"file":case"reset":case"submit":case"password":case"file":case"hidden":case"image":break;default:aL("Bad input type.")}if(ac.adsafe&&ax.autocomplete!=="off"){aL("ADsafe autocomplete violation.")}break;case"applet":case"body":case"embed":case"frame":case"frameset":case"head":case"iframe":case"img":case"noembed":case"noframes":case"object":case"param":if(ac.adsafe){aL("ADsafe violation: Disallowed tag: "+bH)}break}}function P(F){return"</"+F+">"}function bf(){var bI,bG,bH,bF,F,bL,bK,bJ=ac.white,ax;bE="html";aU="";aW=null;for(;;){switch(l.value){case"<":bE="html";aB("<");bG={};bL=l;if(!bL.identifier){aL("Bad identifier {a}.",bL,bL.value)}bF=bL.value;if(ac.cap){bF=bF.toLowerCase()}bL.name=bF;aB();if(!aW){aW=[];bk(bF)}bK=bu[bF];if(typeof bK!=="object"){a4("Unrecognized tag '<{a}>'.",bL,bF)}bH=bK.empty;bL.type=bF;for(;;){if(l.id==="/"){aB("/");if(l.id!==">"){aL("Expected '{a}' and instead saw '{b}'.",l,">",l.value)}break}if(l.id&&l.id.substr(0,1)===">"){break}if(!l.identifier){if(l.id==="(end)"||l.id==="(error)"){a4("Missing '>'.",l)}aL("Bad identifier.")}ac.white=true;Z(a2,l);bI=l.value;ac.white=bJ;aB();if(!ac.cap&&bI!==bI.toLowerCase()){aL("Attribute '{a}' not all lower case.",l,bI)}bI=bI.toLowerCase();aU="";if(bG.hasOwnProperty(bI)){aL("Attribute '{a}' repeated.",l,bI)}if(bI.slice(0,2)==="on"){if(!ac.on){aL("Avoid HTML event handlers.")}bE="scriptstring";aB("=");F=l.id;if(F!=='"'&&F!=="'"){a4("Missing quote.")}aU=F;ax=ac.white;ac.white=false;aB(F);a7("on");ac.white=ax;if(l.id!==F){a4("Missing close quote on script attribute.")}bE="html";aU="";aB(F);bK=false}else{if(bI==="style"){bE="scriptstring";aB("=");F=l.id;if(F!=='"'&&F!=="'"){a4("Missing quote.")}bE="styleproperty";aU=F;aB(F);aA();bE="html";aU="";aB(F);bK=false}else{if(l.id==="="){aB("=");bK=l.value;if(!l.identifier&&l.id!=='"'&&l.id!=="'"&&l.type!=="(string)"&&l.type!=="(number)"&&l.type!=="(color)"){aL("Expected an attribute value and instead saw '{a}'.",a2,bI)}aB()}else{bK=true}}}bG[bI]=bK;aG(bF,bI,bK)}u(bF,bG);if(!bH){aW.push(bL)}bE="outer";aB(">");break;case"</":bE="html";aB("</");if(!l.identifier){aL("Bad identifier.")}bF=l.value;if(ac.cap){bF=bF.toLowerCase()}aB();if(!aW){a4("Unexpected '{a}'.",l,P(bF))}bL=aW.pop();if(!bL){a4("Unexpected '{a}'.",l,P(bF))}if(bL.name!==bF){a4("Expected '{a}' and instead saw '{b}'.",l,P(bL.name),P(bF))}if(l.id!==">"){a4("Missing '{a}'.",l,">")}bE="outer";aB(">");break;case"<!":if(ac.safe){aL("ADsafe HTML violation.")}bE="html";for(;;){aB();if(l.id===">"||l.id==="(end)"){break}if(l.value.indexOf("--")>=0){aL("Unexpected --.")}if(l.value.indexOf("<")>=0){aL("Unexpected <.")}if(l.value.indexOf(">")>=0){aL("Unexpected >.")}}bE="outer";aB(">");break;case"(end)":return;default:if(l.id==="(end)"){a4("Missing '{a}'.",l,"</"+aW[aW.length-1].value+">")}else{aB()}}if(aW&&aW.length===0&&(ac.adsafe||!ac.fragment||l.id==="(end)")){break}}if(l.id!=="(end)"){a4("Unexpected material after the end.")}}ay("(number)",U);ay("(string)",U);b["(identifier)"]={type:"(identifier)",lbp:0,identifier:true,nud:function(){var F=this.value,ax=a3[F],bF;if(typeof ax==="function"){ax=undefined}else{if(typeof ax==="boolean"){bF=aZ;aZ=D[0];w(F,"var");ax=aZ;aZ=bF}}if(aZ===ax){switch(aZ[F]){case"unused":aZ[F]="var";break;case"label":aL("'{a}' is a statement label.",a2,F);break}}else{if(aZ["(global)"]){if(ac.undef&&bo[F]!=="boolean"){aL("'{a}' is not defined.",a2,F)}br(a2)}else{switch(aZ[F]){case"closure":case"function":case"var":case"unused":aL("'{a}' used out of scope.",a2,F);break;case"label":aL("'{a}' is a statement label.",a2,F);break;case"outer":case"global":break;default:if(ax===true){aZ[F]=true}else{if(typeof ax!=="object"){if(ac.undef){aL("'{a}' is not defined.",a2,F)}else{aZ[F]=true}br(a2)}else{switch(ax[F]){case"function":case"var":case"unused":ax[F]="closure";aZ[F]=ax["(global)"]?"global":"outer";break;case"closure":case"parameter":aZ[F]=ax["(global)"]?"global":"outer";break;case"label":aL("'{a}' is a statement label.",a2,F)}}}}}}return this},led:function(){a4("Expected an operator and instead saw '{a}'.",l,l.value)}};ay("(regexp)",function(){return this});a9("(endline)");a9("(begin)");a9("(end)").reach=true;a9("</").reach=true;a9("<!");a9("<!--");a9("-->");a9("(error)").reach=true;a9("}").reach=true;a9(")");a9("]");a9('"').reach=true;a9("'").reach=true;a9(";");a9(":").reach=true;a9(",");a9("#");a9("@");r("else");r("case").reach=true;r("catch");r("default").reach=true;r("finally");ag("arguments");ag("eval");ag("false");ag("Infinity");ag("NaN");ag("null");ag("this");ag("true");ag("undefined");aH("=","assign",20);aH("+=","assignadd",20);aH("-=","assignsub",20);aH("*=","assignmult",20);aH("/=","assigndiv",20).nud=function(){a4("A regular expression literal can be confused with '/='.")};aH("%=","assignmod",20);j("&=","assignbitand",20);j("|=","assignbitor",20);j("^=","assignbitxor",20);j("<<=","assignshiftleft",20);j(">>=","assignshiftright",20);j(">>>=","assignshiftrightunsigned",20);B("?",function(ax,F){F.left=ax;F.right=aT(10);aB(":");F["else"]=aT(10);return F},30);B("||","or",40);B("&&","and",50);aY("|","bitor",70);aY("^","bitxor",80);aY("&","bitand",90);bv("==",function(ax,F){if(ac.eqeqeq){aL("Expected '{a}' and instead saw '{b}'.",this,"===","==")}else{if(bD(ax)){aL("Use '{a}' to compare with '{b}'.",this,"===",ax.value)}else{if(bD(F)){aL("Use '{a}' to compare with '{b}'.",this,"===",F.value)}}}return this});bv("===");bv("!=",function(ax,F){if(ac.eqeqeq){aL("Expected '{a}' and instead saw '{b}'.",this,"!==","!=")}else{if(bD(ax)){aL("Use '{a}' to compare with '{b}'.",this,"!==",ax.value)}else{if(bD(F)){aL("Use '{a}' to compare with '{b}'.",this,"!==",F.value)}}}return this});bv("!==");bv("<");bv(">");bv("<=");bv(">=");aY("<<","shiftleft",120);aY(">>","shiftright",120);aY(">>>","shiftrightunsigned",120);B("in","in",120);B("instanceof","instanceof",120);B("+",function(bF,ax){var F=aT(130);if(bF&&F&&bF.id==="(string)"&&F.id==="(string)"){bF.value+=F.value;bF.character=F.character;if(y.test(bF.value)){aL("JavaScript URL.",bF)}return bF}ax.left=bF;ax.right=F;return ax},130);a6("+","num");B("-","sub",130);a6("-","neg");B("*","mult",140);B("/","div",140);B("%","mod",140);aX("++","postinc");a6("++","preinc");b["++"].exps=true;aX("--","postdec");a6("--","predec");b["--"].exps=true;a6("delete",function(){var F=aT(0);if(!F||(F.id!=="."&&F.id!=="[")){aL("Expected '{a}' and instead saw '{b}'.",l,".",l.value)}}).exps=true;a6("~",function(){if(ac.bitwise){aL("Unexpected '{a}'.",this,"~")}aT(150);return this});a6("!","not");a6("typeof","typeof");a6("new",function(){var ax=aT(155),F;if(ax&&ax.id!=="function"){if(ax.identifier){ax["new"]=true;switch(ax.value){case"Object":aL("Use the object literal notation {}.",a2);break;case"Array":if(l.id!=="("){aL("Use the array literal notation [].",a2)}else{aB("(");if(l.id===")"){aL("Use the array literal notation [].",a2)}else{F=aT(0);ax.dimension=F;if((F.id==="(number)"&&/[.+\-Ee]/.test(F.value))||(F.id==="-"&&!F.right)||F.id==="(string)"||F.id==="["||F.id==="{"||F.id==="true"||F.id==="false"||F.id==="null"||F.id==="undefined"||F.id==="Infinity"){aL("Use the array literal notation [].",a2)}if(l.id!==")"){a4("Use the array literal notation [].",a2)}}aB(")")}this.first=ax;return this;case"Number":case"String":case"Boolean":case"Math":aL("Do not use {a} as a constructor.",a2,ax.value);break;case"Function":if(!ac.evil){aL("The Function constructor is eval.")}break;case"Date":case"RegExp":break;default:if(ax.id!=="function"){F=ax.value.substr(0,1);if(ac.newcap&&(F<"A"||F>"Z")){aL("A constructor name should start with an uppercase letter.",a2)}}}}else{if(ax.id!=="."&&ax.id!=="["&&ax.id!=="("){aL("Bad constructor.",a2)}}}else{aL("Weird construction. Delete 'new'.",this)}aR(a2,l);if(l.id!=="("){aL("Missing '()' invoking a constructor.")}this.first=ax;return this});b["new"].exps=true;B(".",function(bF,ax){aR(bb,a2);var F=aE();if(typeof F==="string"){i(F)}ax.left=bF;ax.right=F;if(!ac.evil&&bF&&bF.value==="document"&&(F==="write"||F==="writeln")){aL("document.write can be a form of eval.",bF)}else{if(ac.adsafe){if(bF&&bF.value==="ADSAFE"){if(F==="id"||F==="lib"){aL("ADsafe violation.",ax)}else{if(F==="go"){if(bE!=="script"){aL("ADsafe violation.",ax)}else{if(ak||l.id!=="("||bc(0).id!=="(string)"||bc(0).value!==aK||bc(1).id!==","){a4("ADsafe violation: go.",ax)}}ak=true;t=false}}}}}if(!ac.evil&&(F==="eval"||F==="execScript")){aL("eval is evil.")}else{if(ac.safe){for(;;){if(aq[F]===true){aL("ADsafe restricted word '{a}'.",a2,F)}if(typeof bo[bF.value]!=="boolean"||l.id==="("){break}if(N[F]===true){if(l.id==="."){aL("ADsafe violation.",ax)}break}if(l.id!=="."){aL("ADsafe violation.",ax);break}aB(".");a2.left=ax;a2.right=F;ax=a2;F=aE();if(typeof F==="string"){i(F)}}}}return ax},160,true);B("(",function(bF,F){aR(bb,a2);aa();var bG=0,ax=[];if(bF){if(bF.type==="(identifier)"){if(bF.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)){if(bF.value!=="Number"&&bF.value!=="String"&&bF.value!=="Boolean"&&bF.value!=="Date"){if(bF.value==="Math"){aL("Math is not a function.",bF)}else{if(ac.newcap){aL("Missing 'new' prefix when invoking a constructor.",bF)}}}}}else{if(bF.id==="."){if(ac.safe&&bF.left.value==="Math"&&bF.right==="random"){aL("ADsafe violation.",bF)}}}}if(l.id!==")"){for(;;){ax[ax.length]=aT(10);bG+=1;if(l.id!==","){break}aM()}}aB(")");if(ac.immed&&bF.id==="function"&&l.id!==")"){aL("Wrap the entire immediate function invocation in parens.",F)}aa(bb,a2);if(typeof bF==="object"){if(bF.value==="parseInt"&&bG===1){aL("Missing radix parameter.",bF)}if(!ac.evil){if(bF.value==="eval"||bF.value==="Function"||bF.value==="execScript"){aL("eval is evil.",bF)}else{if(ax[0]&&ax[0].id==="(string)"&&(bF.value==="setTimeout"||bF.value==="setInterval")){aL("Implied eval is evil. Pass a function instead of a string.",bF)}}}if(!bF.identifier&&bF.id!=="."&&bF.id!=="["&&bF.id!=="("&&bF.id!=="&&"&&bF.id!=="||"&&bF.id!=="?"){aL("Bad invocation.",bF)}}F.left=bF;return F},155,true).exps=true;a6("(",function(){aa();var F=aT(0);aB(")",this);aa(bb,a2);if(ac.immed&&F.id==="function"){if(l.id==="("){aL("Move the invocation into the parens that contain the function.",l)}else{aL("Do not wrap function literals in parens unless they are to be immediately invoked.",this)}}return F});B("[",function(bG,ax){aa();var bF=aT(0),F;if(bF&&bF.type==="(string)"){if(ac.safe&&aq[bF.value]===true){aL("ADsafe restricted word '{a}'.",ax,bF.value)}else{if(!ac.evil&&(bF.value==="eval"||bF.value==="execScript")){aL("eval is evil.",ax)}}i(bF.value);if(!ac.sub&&V.test(bF.value)){F=b[bF.value];if(!F||!F.reserved){aL("['{a}'] is better written in dot notation.",bF,bF.value)}}}else{if(!bF||(bF.type!=="(number)"&&(bF.id!=="+"||bF.arity!=="unary"))){if(ac.safe){aL("ADsafe subscripting.")}}}aB("]",ax);aa(bb,a2);ax.left=bG;ax.right=bF;return ax},160,true);a6("[",function(){this.first=[];if(l.id==="]"){aB("]");return this}var F=a2.line!==l.line;if(F){aN+=ac.indent;if(l.from===aN+ac.indent){aN+=ac.indent}}for(;;){if(F&&a2.line!==l.line){c()}aT(10);if(l.id===","){aM();if(l.id===","){aL("Extra comma.",a2)}else{if(l.id==="]"){aL("Extra comma.",a2);break}}}else{if(F){aN-=ac.indent;c()}break}}aB("]",this);return this},160);(function(F){F.nud=function(){var ax,bG,bH,bF={};ax=a2.line!==l.line;if(ax){aN+=ac.indent;if(l.from===aN+ac.indent){aN+=ac.indent}}for(;;){if(l.id==="}"){break}if(ax){c()}bG=n(true);if(!bG){if(l.id==="(string)"){bG=l.value;if(V.test(bG)){bH=b[bG]}aB()}else{if(l.id==="(number)"){bG=l.value.toString();aB()}else{a4("Expected '{a}' and instead saw '{b}'.",l,"}",l.value)}}}if(bF[bG]===true){aL("Duplicate member '{a}'.",l,bG)}bF[bG]=true;i(bG);aB(":");Z(a2,l);aT(10);if(l.id===","){aM();if(l.id===","||l.id==="}"){aL("Extra comma.",a2)}}else{break}}if(ax){aN-=ac.indent;c()}aB("}",this);return this};F.fud=function(){a4("Expected to see a statement and instead saw a block.",a2)}}(a9("{")));function bd(bF){var F,ax;if(aZ["(onevar)"]&&ac.onevar){aL("Too many var statements.")}else{if(!aZ["(global)"]){aZ["(onevar)"]=true}}this.first=[];for(;;){Z(a2,l);w(aE(),"unused");if(bF){break}F=a2;this.first.push(a2);if(l.id==="="){Z(a2,l);aB("=");Z(a2,l);if(bc(0).id==="="&&l.identifier){a4("Variable {a} was not declared correctly.",l,l.value)}ax=aT(0);F.first=ax}if(l.id!==","){break}aM()}return this}h("var",bd);h("new",function(){aL("'new' should not be used as a statement.")});function W(){var ax,F=l,bF=[];aB("(");aa();if(l.id===")"){aB(")");aa(bb,a2);return}for(;;){ax=aE();bF.push(ax);w(ax,"parameter");if(l.id===","){aM()}else{aB(")",F);aa(bb,a2);return bF.join(", ")}}}function R(F){var ax=a3;a3=Object.create(ax);aZ={"(name)":F||'"'+bl+'"',"(line)":l.line+1,"(context)":aZ,"(breakage)":0,"(loopage)":0,"(scope)":a3};a2.funct=aZ;D.push(aZ);if(F){w(F,"function")}aZ["(params)"]=W();J(false);a3=ax;aZ=aZ["(context)"]}bn("function",function(){if(a0){aL("Function statements cannot be placed in blocks. Use a function expression or move the statement to the top of the outer function.",a2)}var F=aE();aR(a2,l);w(F,"unused");R(F);if(l.id==="("&&l.line===a2.line){a4("Function statements are not invocable. Wrap the whole function invocation in parens.")}});a6("function",function(){var F=n();if(F){aR(a2,l)}else{Z(a2,l)}R(F);if(aZ["(loopage)"]&&l.id!=="("){aL("Be careful when making functions within a loop. Consider putting the function in a closure.")}return this});bn("if",function(){var F=l;aB("(");Z(this,F);aa();aT(20);if(l.id==="="){aL("Expected a conditional expression and instead saw an assignment.");aB("=");aT(20)}aB(")",F);aa(bb,a2);J(true);if(l.id==="else"){Z(a2,l);aB("else");if(l.id==="if"||l.id==="switch"){bz(true)}else{J(true)}}return this});bn("try",function(){var F,bF,ax;if(ac.adsafe){aL("ADsafe try violation.",this)}J(false);if(l.id==="catch"){aB("catch");Z(a2,l);aB("(");ax=a3;a3=Object.create(ax);bF=l.value;if(l.type!=="(identifier)"){aL("Expected an identifier and instead saw '{a}'.",l,bF)}else{w(bF,"exception")}aB();aB(")");J(false);F=true;a3=ax}if(l.id==="finally"){aB("finally");J(false);return}else{if(!F){a4("Expected '{a}' and instead saw '{b}'.",l,"catch",l.value)}}});bn("while",function(){var F=l;aZ["(breakage)"]+=1;aZ["(loopage)"]+=1;aB("(");Z(this,F);aa();aT(20);if(l.id==="="){aL("Expected a conditional expression and instead saw an assignment.");aB("=");aT(20)}aB(")",F);aa(bb,a2);J(true);aZ["(breakage)"]-=1;aZ["(loopage)"]-=1}).labelled=true;r("with");bn("switch",function(){var F=l,ax=false;aZ["(breakage)"]+=1;aB("(");Z(this,F);aa();this.condition=aT(20);aB(")",F);aa(bb,a2);Z(a2,l);F=l;aB("{");Z(a2,l);aN+=ac.indent;this.cases=[];for(;;){switch(l.id){case"case":switch(aZ["(verb)"]){case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:aL("Expected a 'break' statement before 'case'.",a2)}c(-ac.indent);aB("case");this.cases.push(aT(20));ax=true;aB(":");aZ["(verb)"]="case";break;case"default":switch(aZ["(verb)"]){case"break":case"continue":case"return":case"throw":break;default:aL("Expected a 'break' statement before 'default'.",a2)}c(-ac.indent);aB("default");ax=true;aB(":");break;case"}":aN-=ac.indent;c();aB("}",F);if(this.cases.length===1||this.condition.id==="true"||this.condition.id==="false"){aL("This 'switch' should be an 'if'.",this)}aZ["(breakage)"]-=1;aZ["(verb)"]=undefined;return;case"(end)":a4("Missing '{a}'.",l,"}");return;default:if(ax){switch(a2.id){case",":a4("Each value should have its own case label.");return;case":":a7();break;default:a4("Missing ':' on a case clause.",a2)}}else{a4("Expected '{a}' and instead saw '{b}'.",l,"case",l.value)}}}}).labelled=true;h("debugger",function(){if(!ac.debug){aL("All 'debugger' statements should be removed.")}});h("do",function(){aZ["(breakage)"]+=1;aZ["(loopage)"]+=1;J(true);aB("while");var F=l;Z(a2,F);aB("(");aa();aT(20);if(l.id==="="){aL("Expected a conditional expression and instead saw an assignment.");aB("=");aT(20)}aB(")",F);aa(bb,a2);aZ["(breakage)"]-=1;aZ["(loopage)"]-=1}).labelled=true;bn("for",function(){var ax,F=l;aZ["(breakage)"]+=1;aZ["(loopage)"]+=1;aB("(");Z(this,F);aa();if(bc(l.id==="var"?1:0).id==="in"){if(l.id==="var"){aB("var");bd(true)}else{switch(aZ[l.value]){case"unused":aZ[l.value]="var";break;case"var":break;default:aL("Bad for in variable '{a}'.",l,l.value)}aB()}aB("in");aT(20);aB(")",F);ax=J(true);if(!ac.forin&&(ax.length>1||typeof ax[0]!=="object"||ax[0].value!=="if")){aL("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",this)}aZ["(breakage)"]-=1;aZ["(loopage)"]-=1;return this}else{if(l.id!==";"){if(l.id==="var"){aB("var");bd()}else{for(;;){aT(0,"for");if(l.id!==","){break}aM()}}}bB(a2);aB(";");if(l.id!==";"){aT(20);if(l.id==="="){aL("Expected a conditional expression and instead saw an assignment.");aB("=");aT(20)}}bB(a2);aB(";");if(l.id===";"){a4("Expected '{a}' and instead saw '{b}'.",l,")",";")}if(l.id!==")"){for(;;){aT(0,"for");if(l.id!==","){break}aM()}}aB(")",F);aa(bb,a2);J(true);aZ["(breakage)"]-=1;aZ["(loopage)"]-=1}}).labelled=true;h("break",function(){var F=l.value;if(aZ["(breakage)"]===0){aL("Unexpected '{a}'.",l,this.value)}bB(this);if(l.id!==";"){if(a2.line===l.line){if(aZ[F]!=="label"){aL("'{a}' is not a statement label.",l,F)}else{if(a3[F]!==aZ){aL("'{a}' is out of scope.",l,F)}}aB()}}ap("break")});h("continue",function(){var F=l.value;if(aZ["(breakage)"]===0){aL("Unexpected '{a}'.",l,this.value)}bB(this);if(l.id!==";"){if(a2.line===l.line){if(aZ[F]!=="label"){aL("'{a}' is not a statement label.",l,F)}else{if(a3[F]!==aZ){aL("'{a}' is out of scope.",l,F)}}aB()}}ap("continue")});h("return",function(){bB(this);if(l.id==="(regexp)"){aL("Wrap the /regexp/ literal in parens to disambiguate the slash operator.")}if(l.id!==";"&&!l.reach){Z(a2,l);aT(20)}ap("return")});h("throw",function(){bB(this);Z(a2,l);aT(20);ap("throw")});r("void");r("class");r("const");r("enum");r("export");r("extends");r("import");r("super");r("let");r("yield");r("implements");r("interface");r("package");r("private");r("protected");r("public");r("static");function q(){function F(){var bG={},bF=l;aB("{");if(l.id!=="}"){for(;;){if(l.id==="(end)"){a4("Missing '}' to match '{' from line {a}.",l,bF.line+1)}else{if(l.id==="}"){aL("Unexpected comma.",a2);break}else{if(l.id===","){a4("Unexpected comma.",l)}else{if(l.id!=="(string)"){aL("Expected a string and instead saw {a}.",l,l.value)}}}}if(bG[l.value]===true){aL("Duplicate key '{a}'.",l,l.value)}else{if(l.value==="__proto__"){aL("Stupid key '{a}'.",l,l.value)}else{bG[l.value]=true}}aB();aB(":");q();if(l.id!==","){break}aB(",")}}aB("}")}function ax(){var bF=l;aB("[");if(l.id!=="]"){for(;;){if(l.id==="(end)"){a4("Missing ']' to match '[' from line {a}.",l,bF.line+1)}else{if(l.id==="]"){aL("Unexpected comma.",a2);break}else{if(l.id===","){a4("Unexpected comma.",l)}}}q();if(l.id!==","){break}aB(",")}}aB("]")}switch(l.id){case"{":F();break;case"[":ax();break;case"true":case"false":case"null":case"(number)":case"(string)":aB();break;case"-":aB("-");if(a2.character!==l.from){aL("Unexpected space after '-'.",a2)}aR(a2,l);aB("(number)");break;default:a4("Expected a JSON value.",l)}}var O=function(bF,bH){var F,ax;JSLINT.errors=[];bo=Object.create(bw);if(bH){F=bH.predef;if(F instanceof Array){for(ax=0;ax<F.length;ax+=1){bo[F[ax]]=true}}if(bH.adsafe){bH.safe=true}if(bH.safe){bH.browser=false;bH.css=false;bH.debug=false;bH.eqeqeq=true;bH.evil=false;bH.forin=false;bH.nomen=true;bH.on=false;bH.rhino=false;bH.safe=true;bH.sidebar=false;bH.strict=true;bH.sub=false;bH.undef=true;bH.widget=false;bo.Date=null;bo["eval"]=null;bo.Function=null;bo.Object=null;bo.ADSAFE=false;bo.lib=false}ac=bH}else{ac={}}ac.indent=ac.indent||4;aK="";t=false;ak=false;aD={};if(ac.approved){for(ax=0;ax<ac.approved.length;ax+=1){aD[ac.approved[ax]]=ac.approved[ax]}}else{aD.test="test"}o="";for(ax=0;ax<ac.indent;ax+=1){o+=" "}aN=0;G=Object.create(bo);a3=G;aZ={"(global)":true,"(name)":"(global)","(scope)":a3,"(breakage)":0,"(loopage)":0};D=[aZ];bp={};ab=[];af=false;bE=false;aW=null;a5={};bg=null;be={};a0=false;T=[];k=false;C=0;aJ.init(bF);s=true;bb=a2=l=b["(begin)"];aF();try{aB();if(l.value.charAt(0)==="<"){bf();if(ac.adsafe&&!ak){aL("ADsafe violation: Missing ADSAFE.go.",this)}}else{switch(l.id){case"{":case"[":ac.laxbreak=true;k=true;q();break;case"@":case"*":case"#":case".":case":":bE="style";aB();if(a2.id!=="@"||!l.identifier||l.value!=="charset"){a4('A css file should begin with @charset "UTF-8";')}aB();if(l.type!=="(string)"&&l.value!=="UTF-8"){a4('A css file should begin with @charset "UTF-8";')}aB();aB(";");bm();break;default:if(ac.adsafe&&ac.fragment){a4("Expected '{a}' and instead saw '{b}'.",l,"<div>",l.value)}a7("lib")}}aB("(end)")}catch(bG){if(bG){JSLINT.errors.push({reason:bG.message,line:bG.line||l.line,character:bG.character||l.from},null)}}return JSLINT.errors.length===0};function bs(bF){var F=[],ax;for(ax in bF){if(bF.hasOwnProperty(ax)){F.push(ax)}}return F}O.report=function(bI,bK){var bY=[],bW,bV,bU,bS,bQ,bP,bN="",bM,bL=[],bJ,bH,bF,bT,F,bG,ax,bR,bO;function bX(b1,b0,bZ){if(b0.length){bL.push("<div><i>"+b1+"</i> "+b0.sort().join(bZ||", ")+"</div>")}}bJ=bs(be);bQ=JSLINT.errors.length;if(bQ||bJ.length>0){bL.push("<div id=errors><i>Error:</i>");if(bJ.length>0){bJ.sort();for(bS=0;bS<bJ.length;bS+=1){bJ[bS]="<code>"+bJ[bS]+"</code> <i>"+be[bJ[bS]].join(" ")+"</i>"}bL.push("<p><i>Implied global:</i> "+bJ.join(", ")+"</p>");bW=true}for(bS=0;bS<bQ;bS+=1){bW=JSLINT.errors[bS];if(bW){bV=bW.evidence||"";bL.push("<p>Problem"+(isFinite(bW.line)?" at line "+(bW.line+1)+" character "+(bW.character+1):"")+": "+bW.reason.entityify()+"</p><p class=evidence>"+(bV&&(bV.length>80?bV.slice(0,77)+"...":bV).entityify())+"</p>")}}bL.push("</div>");if(!bW){return bL.join("")}}if(!bI){bL.push("<br><div id=functions>");if(ab.length>0){bX("URLs<br>",ab,"<br>")}bJ=bs(a3);if(bJ.length===0){if(k){if(bQ===0){bL.push("<p>JSON: good.</p>")}else{bL.push("<p>JSON: bad.</p>")}}else{bL.push("<div><i>No new global variables introduced.</i></div>")}}else{bL.push("<div><i>Global</i> "+bJ.sort().join(", ")+"</div>")}for(bS=1;bS<D.length;bS+=1){bU=D[bS];bF=[];bT=[];F=[];bG=[];ax=[];bR=[];bO=[];for(bQ in bU){if(bU.hasOwnProperty(bQ)&&bQ.charAt(0)!=="("){bH=bU[bQ];switch(bH){case"closure":bF.push(bQ);break;case"var":F.push(bQ);break;case"exception":bT.push(bQ);break;case"outer":ax.push(bQ);break;case"global":bR.push(bQ);break;case"label":bO.push(bQ);break;case"unused":bG.push(bQ);break}}}bL.push("<br><div class=function><i>"+bU["(line)"]+"</i> "+(bU["(name)"]||"")+"("+(bU["(params)"]||"")+")</div>");bX("Closure",bF);bX("Variable",F);bX("Exception",bT);bX("Outer",ax);bX("Global",bR);bX("Label",bO);bX("<big><b>Unused</b></big>",bG)}bY=[];for(bQ in a5){if(typeof a5[bQ]==="number"){bY.push(bQ)}}if(bY.length){bY=bY.sort();bN="<br><pre id=members>/*members ";bP=10;for(bS=0;bS<bY.length;bS+=1){bQ=bY[bS];bM=bQ.name();if(bP+bM.length>72){bL.push(bN+"<br>");bN="    ";bP=1}bP+=bM.length+2;if(a5[bQ]===1){bM="<i>"+bM+"</i>"}if(bS<bY.length-1){bM+=", "}bN+=bM}bL.push(bN+"<br>*/</pre>")}bL.push("</div>")}return bL.join("")};O.edition="2009-06-14";return O}());(function(b){if(!b[0]){print("Usage: jslint.js file.js");quit(1)}var c=os.system("cat",[b[0]]);if(!c){print("jslint: Couldn't open file '"+b[0]+"'.");quit(1)}if(!JSLINT(c,{bitwise:true,eqeqeq:true,immed:true,newcap:true,nomen:true,onevar:true,plusplus:true,regexp:true,rhino:true,undef:true,white:true})){for(var d=0;d<JSLINT.errors.length;d+=1){var f=JSLINT.errors[d];if(f){print("Lint at line "+(f.line+1)+" character "+(f.character+1)+": "+f.reason);print((f.evidence||"").replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"));print("")}}quit(2)}else{print("jslint: No problems found in "+b[0]);quit()}}(arguments));