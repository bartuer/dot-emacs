# name: quick server uki sinatra middleware
# --
#! /usr/bin/env ruby
require 'rubygems'
require 'sinatra'
require 'sinatra/reloader'
require 'uki/routes'
$KCODE = 'u'

UkiRoutes.class_eval do
  register Sinatra::Reloader
  set :views, File.dirname(__FILE__) + '/views'
  get '/' do
    [200, 'text/plain', 'æ—©']
  end

  get '/nokogiri' do
    nokogiri :hello
  end

  get '/erubis' do
    data  = { :kiss => 'me'}
    erubis :hello, :layout => :wrapper, :locals => data
  end

end